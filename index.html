<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Modern Quotation Maker</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background: #f5f7fa;
      padding: 20px;
      color: #333;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
    }

    header {
      text-align: center;
      margin-bottom: 30px;
    }

    h1 {
      color: #2c3e50;
      margin-bottom: 10px;
    }

    .card {
      background: white;
      border-radius: 12px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.08);
      padding: 25px;
      margin-bottom: 25px;
    }

    .form-group {
      margin-bottom: 15px;
    }

    label {
      display: block;
      margin-bottom: 6px;
      font-weight: 600;
      color: #2c3e50;
    }

    input, textarea {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 15px;
    }

    .items-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }

    .items-table th,
    .items-table td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #eee;
    }

    .items-table th {
      background: #f8f9fa;
      color: #2c3e50;
    }

    .btn {
      padding: 10px 16px;
      background: #3498db;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 15px;
      margin-right: 8px;
      transition: background 0.3s;
    }

    .btn:hover {
      background: #2980b9;
    }

    .btn-danger {
      background: #e74c3c;
    }

    .btn-danger:hover {
      background: #c0392b;
    }

    .btn-print {
      background: #2ecc71;
    }

    .btn-print:hover {
      background: #27ae60;
    }

    .totals {
      text-align: right;
      margin-top: 20px;
    }

    .total-row {
      font-size: 18px;
      font-weight: 600;
      margin: 8px 0;
    }

    .grand-total {
      color: #2c3e50;
      font-size: 22px;
    }

    .quotation-output {
      display: none;
      background: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    .quotation-header {
      text-align: center;
      margin-bottom: 20px;
    }

    .quotation-title {
      font-size: 24px;
      font-weight: bold;
      margin: 10px 0;
    }

    .quotation-to {
      margin: 20px 0;
    }

    .quotation-table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }

    .quotation-table th,
    .quotation-table td {
      padding: 10px;
      border: 1px solid #ddd;
      text-align: left;
    }

    .quotation-table th {
      background: #f1f1f1;
    }

    .terms {
      margin-top: 20px;
      font-size: 14px;
    }

    @media print {
      body * {
        visibility: hidden;
      }
      .quotation-output, .quotation-output * {
        visibility: visible;
      }
      .quotation-output {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        padding: 20px;
        box-shadow: none;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Modern Quotation Maker</h1>
      <p>Create professional quotations in seconds</p>
    </header>

    <!-- Input Form -->
    <div class="card" id="inputForm">
      <h2>Quotation Details</h2>

      <div class="form-group">
        <label>Quotation No.</label>
        <input type="text" id="quoteNo" value="001" />
      </div>

      <div class="form-group">
        <label>Date</label>
        <input type="date" id="quoteDate" />
      </div>

      <div class="form-group">
        <label>To (Client Name)</label>
        <input type="text" id="clientName" placeholder="e.g., PRAVAH" />
      </div>

      <div class="form-group">
        <label>Client Address</label>
        <textarea id="clientAddress" placeholder="Deoghar, Jharkhand"></textarea>
      </div>

      <div class="form-group">
        <label>Client GSTIN</label>
        <input type="text" id="clientGstin" placeholder="20AAAAP0521E1ZJ" />
      </div>

      <h3>Line Items</h3>
      <table class="items-table">
        <thead>
          <tr>
            <th>Description</th>
            <th>Qty</th>
            <th>Rate (‚Çπ)</th>
            <th>Amount (‚Çπ)</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody id="itemsBody">
          <tr>
            <td><input type="text" class="desc" placeholder="Grill Installation Work" /></td>
            <td><input type="number" class="qty" value="400" min="0" step="1" /></td>
            <td><input type="number" class="rate" value="120" min="0" step="0.01" /></td>
            <td class="amount">48,000</td>
            <td><button class="btn btn-danger" onclick="removeRow(this)">Remove</button></td>
          </tr>
        </tbody>
      </table>

      <button class="btn" onclick="addRow()">+ Add Item</button>
      <button class="btn btn-print" onclick="generateQuotation()" style="margin-top:15px;">Generate Quotation</button>
    </div>

    <!-- Output Quotation -->
    <div class="card quotation-output" id="quotationOutput">
      <div class="quotation-header">
        <h2>DURGA ENGINEERING WORKS</h2>
        <p>Noor Sarai, Nalanda, Bihar<br>
        GSTIN: 10AHCPK1560G1Z1 | Contact: 9XXXXXXXXX</p>
        <div class="quotation-title">QUOTATION</div>
        <p>Quotation No: <span id="outQuoteNo">001</span> | Date: <span id="outDate">09-Oct-2025</span></p>
      </div>

      <div class="quotation-to">
        <p><strong>To,</strong><br>
        <span id="outClientName">PRAVAH</span><br>
        <span id="outClientAddress">Deoghar, Jharkhand</span><br>
        GSTIN: <span id="outClientGstin">20AAAAP0521E1ZJ</span>
        </p>
      </div>

      <table class="quotation-table">
        <thead>
          <tr>
            <th>Sl.</th>
            <th>Description of Work</th>
            <th>Qty</th>
            <th>Rate (‚Çπ)</th>
            <th>Amount (‚Çπ)</th>
          </tr>
        </thead>
        <tbody id="outItemsBody">
          <!-- Filled by JS -->
        </tbody>
        <tfoot>
          <tr>
            <td colspan="4" style="text-align: right;"><strong>Subtotal:</strong></td>
            <td id="outSubtotal">57,200</td>
          </tr>
          <tr>
            <td colspan="4" style="text-align: right;"><strong>GST @18%:</strong></td>
            <td id="outGst">10,296</td>
          </tr>
          <tr>
            <td colspan="4" style="text-align: right;"><strong>Grand Total:</strong></td>
            <td id="outGrandTotal">‚Çπ67,496</td>
          </tr>
        </tfoot>
      </table>

      <p><strong>Amount in Words:</strong> <span id="outAmountWords">Sixty Seven Thousand Four Hundred Ninety Six Only</span></p>

      <div class="terms">
        <p><strong>Terms & Conditions:</strong></p>
        <ol>
          <li>Quotation valid for 30 days.</li>
          <li>Payment within 7 days from date of delivery.</li>
          <li>Any extra work will be charged separately.</li>
        </ol>
      </div>

      <p style="margin-top: 30px; text-align: right;">
        <strong>Authorised Signatory</strong><br>
        (Sign & Stamp)
      </p>

      <button class="btn btn-print" onclick="window.print()" style="margin-top:20px;">üñ®Ô∏è Print Quotation</button>
    </div>
  </div>

  <script>
    // Set today's date as default
    document.getElementById('quoteDate').valueAsDate = new Date();

    function addRow() {
      const tbody = document.getElementById('itemsBody');
      const row = document.createElement('tr');
      row.innerHTML = `
        <td><input type="text" class="desc" placeholder="Description" /></td>
        <td><input type="number" class="qty" value="1" min="0" step="1" /></td>
        <td><input type="number" class="rate" value="0" min="0" step="0.01" /></td>
        <td class="amount">0</td>
        <td><button class="btn btn-danger" onclick="removeRow(this)">Remove</button></td>
      `;
      tbody.appendChild(row);
      attachInputListeners(row);
    }

    function removeRow(button) {
      button.closest('tr').remove();
    }

    function attachInputListeners(row) {
      const qty = row.querySelector('.qty');
      const rate = row.querySelector('.rate');
      const amount = row.querySelector('.amount');

      const updateAmount = () => {
        const q = parseFloat(qty.value) || 0;
        const r = parseFloat(rate.value) || 0;
        const amt = (q * r).toFixed(2);
        amount.textContent = new Intl.NumberFormat('en-IN').format(amt);
      };

      qty.addEventListener('input', updateAmount);
      rate.addEventListener('input', updateAmount);
    }

    // Attach listeners to initial row
    document.querySelectorAll('#itemsBody tr').forEach(attachInputListeners);

    function numberToWords(num) {
      if (num === 0) return "Zero";

      const belowTwenty = ["", "One", "Two", "Three", "Four", "Five", "Six", "Seven", "Eight", "Nine", "Ten",
        "Eleven", "Twelve", "Thirteen", "Fourteen", "Fifteen", "Sixteen", "Seventeen", "Eighteen", "Nineteen"];
      const tens = ["", "", "Twenty", "Thirty", "Forty", "Fifty", "Sixty", "Seventy", "Eighty", "Ninety"];

      function convert(n) {
        if (n < 20) return belowTwenty[n];
        if (n < 100) return tens[Math.floor(n / 10)] + (n % 10 ? " " + belowTwenty[n % 10] : "");
        if (n < 1000) return belowTwenty[Math.floor(n / 100)] + " Hundred" + (n % 100 ? " " + convert(n % 100) : "");
        if (n < 100000) return convert(Math.floor(n / 1000)) + " Thousand" + (n % 1000 ? " " + convert(n % 1000) : "");
        if (n < 10000000) return convert(Math.floor(n / 100000)) + " Lakh" + (n % 100000 ? " " + convert(n % 100000) : "");
        return convert(Math.floor(n / 10000000)) + " Crore" + (n % 10000000 ? " " + convert(n % 10000000) : "");
      }

      return convert(num) + " Only";
    }

    function generateQuotation() {
      // Get inputs
      const quoteNo = document.getElementById('quoteNo').value || '001';
      const quoteDate = document.getElementById('quoteDate').value;
      const clientName = document.getElementById('clientName').value || 'Client Name';
      const clientAddress = document.getElementById('clientAddress').value || 'Address';
      const clientGstin = document.getElementById('clientGstin').value || 'GSTIN';

      // Format date
      const dateObj = quoteDate ? new Date(quoteDate) : new Date();
      const formattedDate = dateObj.toLocaleDateString('en-IN', {
        day: '2-digit',
        month: 'short',
        year: 'numeric'
      }).replace(/ /g, '-');

      // Update header
      document.getElementById('outQuoteNo').textContent = quoteNo;
      document.getElementById('outDate').textContent = formattedDate;
      document.getElementById('outClientName').textContent = clientName;
      document.getElementById('outClientAddress').textContent = clientAddress;
      document.getElementById('outClientGstin').textContent = clientGstin;

      // Process items
      const rows = document.querySelectorAll('#itemsBody tr');
      const outBody = document.getElementById('outItemsBody');
      outBody.innerHTML = '';

      let subtotal = 0;
      rows.forEach((row, index) => {
        const desc = row.querySelector('.desc').value || 'N/A';
        const qty = parseFloat(row.querySelector('.qty').value) || 0;
        const rate = parseFloat(row.querySelector('.rate').value) || 0;
        const amount = qty * rate;
        subtotal += amount;

        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${index + 1}</td>
          <td>${desc}</td>
          <td>${qty}</td>
          <td>${rate.toFixed(2)}</td>
          <td>${new Intl.NumberFormat('en-IN').format(amount.toFixed(2))}</td>
        `;
        outBody.appendChild(tr);
      });

      const gst = subtotal * 0.18;
      const grandTotal = subtotal + gst;

      document.getElementById('outSubtotal').textContent = new Intl.NumberFormat('en-IN').format(subtotal.toFixed(2));
      document.getElementById('outGst').textContent = new Intl.NumberFormat('en-IN').format(gst.toFixed(2));
      document.getElementById('outGrandTotal').textContent = '‚Çπ' + new Intl.NumberFormat('en-IN').format(grandTotal.toFixed(2));

      const amountInWords = numberToWords(Math.floor(grandTotal));
      document.getElementById('outAmountWords').textContent = amountInWords;

      // Show output
      document.getElementById('quotationOutput').style.display = 'block';
    }
  </script>
</body>
</html>
